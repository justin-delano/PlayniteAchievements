<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:models="clr-namespace:PlayniteAchievements.Models.Achievements">

    <!-- Column Header Style with Sort Arrow and Resize Grippers -->
    <Style x:Key="AchievementColumnHeaderStyle" TargetType="DataGridColumnHeader">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Padding" Value="10,6"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridColumnHeader">
                    <Grid Background="{TemplateBinding Background}">
                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="Center"
                                          Margin="{TemplateBinding Padding}"/>
                        <Path x:Name="SortArrow"
                              HorizontalAlignment="Right"
                              Fill="{DynamicResource TextBrush}"
                              Width="8"
                              Height="6"
                              Data="M 0,0 L 4,6 L 8,0"
                              VerticalAlignment="Center"
                              Margin="0,0,10,0"
                              RenderTransformOrigin="0.5,0.5"
                              Visibility="Collapsed"/>
                        <!-- REQUIRED for resizing -->
                        <Thumb x:Name="PART_LeftHeaderGripper"
                               Width="0"
                               Background="Transparent"
                               IsHitTestVisible="False"
                               Focusable="False"/>
                        <Thumb x:Name="PART_RightHeaderGripper"
                               HorizontalAlignment="Right"
                               Width="8"
                               Cursor="SizeWE"
                               Background="Transparent"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#18FFFFFF"/>
                        </Trigger>
                        <Trigger Property="SortDirection" Value="Ascending">
                            <Setter TargetName="SortArrow" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="SortArrow" Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleY="-1"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="SortDirection" Value="Descending">
                            <Setter TargetName="SortArrow" Property="Visibility" Value="Visible"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Column Header Style with Tooltip (for column visibility hint) -->
    <Style x:Key="AchievementColumnHeaderWithMenuStyle"
           TargetType="DataGridColumnHeader"
           BasedOn="{StaticResource AchievementColumnHeaderStyle}">
        <Setter Property="ToolTip" Value="{DynamicResource LOCPlayAch_Tooltip_RightClickShowHide}"/>
    </Style>

    <!-- DataGrid Cell Style -->
    <Style x:Key="AchievementCellStyle" TargetType="DataGridCell">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridCell">
                    <Border Background="{TemplateBinding Background}"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow}, Path=IsMouseOver}" Value="True">
                <Setter Property="Background" Value="#30FFFFFF"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow}, Path=IsSelected}" Value="True">
                <Setter Property="Background" Value="#40FFFFFF"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- DataGrid Row Style -->
    <Style x:Key="AchievementRowStyle" TargetType="DataGridRow">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="{DynamicResource NormalBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0,0,0,1"/>
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="MinHeight" Value="66"/>
    </Style>

    <!-- Achievement Status Template: Checkmark (unlocked) or Padlock (locked) -->
    <DataTemplate x:Key="AchievementStatusTemplate">
        <Grid VerticalAlignment="Center" HorizontalAlignment="Center">
            <!-- Checkmark for unlocked -->
            <TextBlock Text="&#x2713;"
                       FontSize="16"
                       FontWeight="Bold"
                       Foreground="{DynamicResource GlyphBrush}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Unlocked}" Value="True">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
            <!-- Padlock for locked -->
            <Image Source="{StaticResource BadgeLocked}"
                   Width="16" Height="16"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Opacity="0.65">
                <Image.Style>
                    <Style TargetType="Image">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Unlocked}" Value="False">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>
        </Grid>
    </DataTemplate>

    <!-- Achievement Rarity Template -->
    <DataTemplate x:Key="AchievementRarityTemplate">
        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
            <Image Width="16" Height="16" Margin="0,0,4,0"
                   Effect="{StaticResource BadgeShadow}"
                   VerticalAlignment="Center">
                <Image.Style>
                    <Style TargetType="Image" BasedOn="{StaticResource RarityIcon}">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding HasRarity}" Value="True">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Rarity}" Value="{x:Static models:RarityTier.UltraRare}">
                                <Setter Property="Source" Value="{StaticResource BadgePlatinumHexagon}"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Rarity}" Value="{x:Static models:RarityTier.Rare}">
                                <Setter Property="Source" Value="{StaticResource BadgeGoldPentagon}"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Rarity}" Value="{x:Static models:RarityTier.Uncommon}">
                                <Setter Property="Source" Value="{StaticResource BadgeSilverSquare}"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Rarity}" Value="{x:Static models:RarityTier.Common}">
                                <Setter Property="Source" Value="{StaticResource BadgeBronzeTriangle}"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>
            <TextBlock Text="{Binding GlobalPercentText}"
                       Style="{DynamicResource BaseTextBlockStyle}"
                       FontSize="{DynamicResource FontSizeSmall}"
                       FontWeight="SemiBold"
                       Foreground="{DynamicResource TextBrush}"
                       Opacity="0.8"/>
        </StackPanel>
    </DataTemplate>

    <!-- Achievement Points Template -->
    <DataTemplate x:Key="AchievementPointsTemplate">
        <TextBlock Text="{Binding PointsText}"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Style="{DynamicResource BaseTextBlockStyle}"
                   FontSize="{DynamicResource FontSizeSmall}"
                   FontWeight="SemiBold"
                   Foreground="{DynamicResource TextBrush}"
                   Opacity="0.8"/>
    </DataTemplate>

    <!-- Search TextBox Style with Placeholder -->
    <Style x:Key="SearchTextBoxStyle" TargetType="TextBox">
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Padding" Value="6,4"/>
        <Setter Property="Background" Value="Transparent"/>
    </Style>

</ResourceDictionary>
